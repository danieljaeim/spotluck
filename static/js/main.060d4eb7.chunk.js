(this.webpackJsonpspotily=this.webpackJsonpspotily||[]).push([[0],{103:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(44),i=a.n(c),s=(a(53),a(1)),o=a.n(s),l=a(8),u=a(3),p=a(4),m=a(6),d=a(5),f=(a(31),a(25)),h=a(7),y=a(45),v=a.n(y),g=a(19),k=a(21),b=a(29),w=a(26),E=a(9),S=a.n(E),x=(a(41),a(84),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tracks,a=e.newartisttracks,n=(e.token,e.sortByNew),c=e.updateSortByNew,i=e.queueUpSongs,s=e.callForRecommend,o=e.playSpecificSong,l=e.updateHoveredObj,u=e.lockSpecificTrack,p=e.select,m=(e.hoverIndex,n?a:t);return r.a.createElement("span",{className:"thumbnail-container"},r.a.createElement("span",{className:"thumbnail-filter"},r.a.createElement("span",{className:"filter-by-title"},r.a.createElement("span",{className:"filter-title-text"},"Title")),r.a.createElement("span",{className:"filter-by-artist"},r.a.createElement("span",{className:"filter-artist-text"},"Artist")),r.a.createElement("span",{className:"filter-by-sort"},r.a.createElement("span",{className:"filter-sort-text"},"Popularity"))),r.a.createElement("div",{className:"tracklist"},m?m.map((function(e,t){return r.a.createElement("div",{className:"trackStyle",key:t,"data-sample-uri":e.preview_url,onMouseLeave:function(e){return l(null)},onMouseEnter:function(e){return l(e,t)}},r.a.createElement("div",{className:"name_artist_container"},r.a.createElement("div",{className:"img-hover"},r.a.createElement("i",{className:"fa fa-play-circle","aria-hidden":"true"})),r.a.createElement("img",{className:"imageStyle",onClick:function(){return o(e.uri,e.name)},alt:"",src:"".concat(e.album.images[2].url)}),r.a.createElement("span",{className:"underline-area",style:{borderTop:t>0?p[t-1]?"1px #E36588 solid":"1px #82A6B1 solid":"none"}},r.a.createElement("h4",{className:"track_name"},-1===e.name.indexOf("(")?e.name:e.name.slice(0,e.name.indexOf("("))," "),r.a.createElement("span",{className:"artist_name"},e.artists[0].name),r.a.createElement("span",{className:"track-popularity"},e.popularity))),r.a.createElement("span",{className:"bookmark_button",onClick:function(){return u(t)}},p[t]?r.a.createElement("i",{class:"fa lock-button fa-lock fa-2x","aria-hidden":"true"}):null,p[t]?null:r.a.createElement("i",{class:"fa lock-button fa-unlock fa-2x","aria-hidden":"true"})))})):null),r.a.createElement("div",{className:"tracks-edit"},r.a.createElement("div",{className:"add-playlist-button"}),r.a.createElement("div",{className:"refresh-tracks-button",onClick:function(e){return s()}},r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement("div",{className:"play-playlist-button",onClick:function(e){return i()}},r.a.createElement("i",{class:"fa fa-play-circle-o","aria-hidden":"true"})),r.a.createElement("div",{className:"edit-settings"},r.a.createElement("span",{className:"check-new-artists"},r.a.createElement("div",{className:"new-artist",name:"new-artist",style:{borderRadius:n?"25%":"50%"},onClick:function(e){return c()}},n?r.a.createElement("i",{className:"fa fa-check-square","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-times-circle","aria-hidden":"true"})),r.a.createElement("span",{className:"new-artist-label"}," Prioritize new artists ")))))}}]),a}(n.Component)),N=(a(85),a(86),n.Component,a(87),a(115)),T=(n.Component,n.Component,a(46)),O=a.n(T),j=(a(103),a(104),a(105),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).slide=function(e){n.props.openingMenu&&n.props.currentRelatedArtists&&(e>0?n.slider.slickNext():n.slider.slickPrev())},n.addWheelListener=function(e){n.slide(e.wheelDelta)},n.updateSearchTerm=function(e){var t=e.target.value;if(n.setState({currentSearchTerm:t}),clearTimeout(n.state.timer),""!==t&&t!==n.state.currentSearchTerm){var a=n.setTimerToCallApi();n.setState({timer:a})}},n.setTimerToCallApi=function(){return setTimeout(Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.currentSearchTerm,e.next=3,n.searchForSpecificQuery(t);case 3:case"end":return e.stop()}}),e)}))),1e3)},n.searchForSpecificQuery=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=encodeURIComponent(t),e.next=3,S.a.get("https://api.spotify.com/v1/search?q=".concat(t,"&type=artist,track,album"),{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 3:a=e.sent,(r=a.data).artists&&(r.artists.items.filter((function(e){return e.images[0]})),r.artists.items.sort((function(e,t){return t.popularity-e.popularity}))),c={},r.albums&&(i=r.albums.items.filter((function(e){return"single"!==e.album_type&&(!c[e.name]&&(c[e.name]=!0,!0))})),r.albums.items=i),n.setState({data:r,lengthOfArtistsFound:r.artists.items.length});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={showSearchModal:!1,currentSearchTerm:"",alreadyMoved:!1,timer:null,data:null,width:0,height:0,endChosenModal:!1,openedSearch:!1,lengthOfArtistsFound:20,showingData:!1,swappingArtistHover:!1,arrows:!0,nextArrow:null,prevArrow:null},n}return Object(p.a)(a,[{key:"componentWillMount",value:function(){window.addEventListener("wheel",this.addWheelListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this,t=this.props,a=t.preferences,n=t.changingPreferenceIndex,c=t.playSpecificArtist,i=t.updateMenu,s=t.updatePreference,o=t.setupPreference,l=t.currentRelatedArtists,u=(t.openingMenu,this.state),p=u.data,m=u.lengthOfArtistsFound,d=u.showingData,f=a[0]||a[1]||a[2]||a[3]||a[4],h={accessibility:!0,centerMode:!1,variableWidth:!0,centerPadding:"64px",infinite:m>4&&d,slidesToShow:1,slidesToScroll:2,initialSlide:0,speed:700};return r.a.createElement("div",{className:"chosen-container"},r.a.createElement("div",{className:"info-div",style:{paddingTop:n?"none":"60px"}},null!==n?r.a.createElement("div",{className:"search-modal"},r.a.createElement("div",{className:"intro-search-modal"},r.a.createElement("div",{className:"add-button-intro"},r.a.createElement("i",{style:{color:(this.state.showingData,"grey")},className:"fa fa-search intro-bar"})),r.a.createElement("input",{onChange:function(t){t.preventDefault(),e.updateSearchTerm(t)},onFocus:function(t){t.preventDefault(),e.setState({showingData:!0})},className:"add-text-intro",id:"input-text",value:this.state.currentSearchTerm,placeholder:"Search for an artist"}),this.state.showingData&&this.state.currentSearchTerm?r.a.createElement("i",{className:"fa fa-times fa-lg",onClick:function(t){t.preventDefault(),document.getElementById("input-text").value="",e.setState({showingData:!1,currentSearchTerm:"",data:null})}}):null),r.a.createElement("div",{className:"search-button-modal"},r.a.createElement("div",{className:"generate-button ".concat(null!==n?"move-button-down-anim":""),onClick:function(){window.removeEventListener("wheel",e.addWheelListener),i()}},"Generate Playlist"))):r.a.createElement("span",{className:"info-span"}," Here are some artists you enjoy.",r.a.createElement("span",{className:"spotify-text"}," ")," ",r.a.createElement("br",null),r.a.createElement("span",null," ",r.a.createElement("span",{style:{color:"#E36588"}}," Click "),"and ",r.a.createElement("span",{style:{color:"sandybrown"}}," swap "),"out artists."))),r.a.createElement("div",{className:"artist-image-list"},f?[0,1,2,3,4].map((function(t,c){return r.a.createElement("span",{key:a[c].data.id,className:"artist-box-container \n                            ".concat(null!==n?"".concat(n===t?e.props.openingMenu?"move-into-place-anim":"move-out-of-way-anim":3===n&&2===c?"".concat(e.props.openingMenu?"move-out-middle-right":"move-out-of-way-anim"):1===n&&2===c?"".concat(e.props.openingMenu?"move-out-middle-left":"move-out-of-way-anim"):0===n&&2===c?"".concat(e.props.openingMenu?"move-out-middle-left-far":"move-out-of-way-anim"):4===n&&2===c?"".concat(e.props.openingMenu?"move-out-middle-right-far":"move-out-of-way-anim"):"move-out-of-way-anim"):""," "),style:{left:"".concat(24*c-3,"%"),background:null!==n?"linear-gradient(90deg, rgba(255,184,92,1) 0%, rgba(227,101,136,1) 75%)":"",animationDelay:null===n?325*Math.abs(2-c)+"ms":null}},a[t]?r.a.createElement("div",{key:a[t].name,onClick:function(e){return o(t)}},e.state.swappingArtistHover&&t===n?r.a.createElement("i",{class:"fa fa-arrow-circle-down","aria-hidden":"true"}):null,r.a.createElement("img",{className:"artist-image-ins",src:"artist"===a[t].type?a[t].data.images[2].url:a[t].data.album.images[2].url,alt:""}),r.a.createElement("span",{className:"artist-image-name",style:{fontSize:null!==n?n===c?"20px":"15px":"",top:null!==n?n===c?"170px":"115px":"",right:null!==n?n===c?"25px":"-20px":"",width:null!==n?n===c?"160px":"100px":""}}," ",a[t].data.name," ")):r.a.createElement("i",{className:"fa fa-plus-square fa-5x","aria-hidden":"true"}))})):null),null!==l?r.a.createElement("div",{className:"replace-artist-modal"},r.a.createElement(O.a,Object.assign({ref:function(t){return e.slider=t},className:"slider-container"},h),null!==p&&d?p.artists.items.map((function(t,a){return t.images[0]?r.a.createElement("div",{key:t.id,className:"related-artist"},r.a.createElement("div",{onMouseOver:function(t){e.setState({swappingArtistHover:!0})},onMouseLeave:function(t){e.setState({swappingArtistHover:!1})},className:"replace-div"},r.a.createElement("span",{className:"swap-side"},r.a.createElement("i",{className:"fa fa-circle",style:{color:"white"}}),r.a.createElement("i",{className:"fa fa-arrow-circle-up",onClick:function(e){e.preventDefault(),s(t,"artist")},"aria-hidden":"true"})),r.a.createElement("span",{className:"play-side"},r.a.createElement("i",{className:"fa fa-play inner",style:{color:"white"},onClick:function(e){e.preventDefault(),c(t.uri,t.name)},"aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-play outer",style:{color:"black"}}))),r.a.createElement("img",{className:"related-artist-img",src:t.images[0].url,alt:""}),r.a.createElement("div",{className:"related-artist-name"},t.name)):null})):l.map((function(t,a){return r.a.createElement("div",{key:t.id,className:"related-artist"},r.a.createElement("div",{onMouseOver:function(t){e.setState({swappingArtistHover:!0})},onMouseLeave:function(t){e.setState({swappingArtistHover:!1})},className:"replace-div"},r.a.createElement("span",{className:"swap-side"},r.a.createElement("i",{className:"fa fa-circle",style:{color:"white"}}),r.a.createElement("i",{className:"fa fa-arrow-circle-up",onClick:function(e){e.preventDefault(),s(t,"artist")},"aria-hidden":"true"})),r.a.createElement("span",{className:"play-side"},r.a.createElement("i",{className:"fa fa-play inner",style:{color:"white"},onClick:function(e){e.preventDefault(),c(t.uri,t.name)},"aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-play outer",style:{color:"black"}}))),r.a.createElement("img",{className:"related-artist-img",src:t.images[2].url,alt:""}),r.a.createElement("div",{className:"related-artist-name"},t.name))})))):null)}}]),a}(n.Component)),C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){setTimeout(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.callSpotifyApi();case 2:case"end":return e.stop()}}),e)}))),50)},n.callSpotifyApi=Object(l.a)(o.a.mark((function e(){var t,a,r,c,i,s,l,u,p,m,d,f,h,y,v,g,k,b,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.limit,a={},e.next=4,S.a.get("https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=".concat(t,"&offset=0"),{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 4:if(r=e.sent,5===(c=r.data.items).length){e.next=11;break}return e.next=9,S.a.get("https://api.spotify.com/v1/me/top/artists?time_range=medium_term&limit=5&offset=0",{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 9:r=e.sent,c=r.data.items;case 11:if(5===c.length){e.next=16;break}return e.next=14,S.a.get("https://api.spotify.com/v1/me/top/artists?time_range=long_term&limit=5&offset=0",{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 14:r=e.sent,c=r.data.items;case 16:if(5===c.length){e.next=68;break}return e.next=19,S.a.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 19:r=e.sent,i=r.data.items.map((function(e){return e.id})),s=0,l=Object(w.a)(i),e.prev=23,l.s();case 25:if((u=l.n()).done){e.next=55;break}if(p=u.value,!(s>=4)){e.next=29;break}return e.abrupt("break",55);case 29:return e.next=31,S.a.get("https://api.spotify.com/v1/playlists/".concat(p,"/tracks"),{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 31:m=e.sent,(d=m.data.items).sort((function(e,t){return t.added_at-e.added_at})),f=Object(w.a)(d),e.prev=35,f.s();case 37:if((h=f.n()).done){e.next=45;break}if(y=h.value,!(s>4)){e.next=41;break}return e.abrupt("break",45);case 41:a[s]={data:y.track,type:"track"},s++;case 43:e.next=37;break;case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(35),f.e(e.t0);case 50:return e.prev=50,f.f(),e.finish(50);case 53:e.next=25;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(23),l.e(e.t1);case 60:return e.prev=60,l.f(),e.finish(60);case 63:return a={0:{data:c[0],type:"track"},1:{data:c[1],type:"track"},2:{data:c[2],type:"track"},3:{data:c[3],type:"track"},4:{data:c[4],type:"track"}},n.setState({artists:c,preferences:a}),e.next=67,n.callForRecommend();case 67:return e.abrupt("return");case 68:a={0:{data:c[0],type:"artist"},1:{data:c[1],type:"artist"},2:{data:c[2],type:"artist"},3:{data:c[3],type:"artist"},4:{data:c[4],type:"artist"}},v={},g=0;case 71:if(!(g<5)){e.next=81;break}return k=a[g].data.id,e.next=75,S.a.get("https://api.spotify.com/v1/artists/".concat(k,"/related-artists"),{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 75:b=e.sent,E=b.data.artists,v[g]=E;case 78:g++,e.next=71;break;case 81:return n.setState({artists:c,preferences:a,relatedArtists:v}),e.next=84,n.callForRecommend();case 84:return e.abrupt("return");case 85:case"end":return e.stop()}}),e,null,[[23,57,60,63],[35,47,50,53]])}))),n.callForRecommend=Object(l.a)(o.a.mark((function e(){var t,a,r,c,i,s,l,u,p,m,d,f,h,y,v,g,k,w,E,x,N,T;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.state,a=t.preferences,r=t.select,c=t.tracks,i=t.sortByNew,s=[],r.forEach((function(e,t){r[t]&&s.push(c[t])})),l=new Array(50).fill(!1),u=0;u<s.length;u++)l[u]=!0;if(0!==(p=50-s.length)){e.next=8;break}return e.abrupt("return");case 8:for(m="limit=".concat(i?85:50,"&"),d="seed_artists=",f="seed_tracks=",h=!1,y=0;y<5;y++)null!=a[y].data&&(h=!0,"artist"===a[y].type?(d+=a[y].data.id,y<=3&&(d+=",")):"track"===a[y].type&&(f+=a[y].data.id,y<=3&&(f+=",")));return"seed_artists="!==d&&(m+=d),"seed_tracks="!==f&&(m+="&",m+=f),v="https://api.spotify.com/v1/recommendations?"+m,h||(v="https://api.spotify.com/v1/recommendations?limit=".concat(p,"&seed_genres=pop")),e.next=19,S.a.get(v,{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 19:for(g=e.sent,k=[],w=0;w<5;w++)k.push(a[w].data.name);for(g.data.tracks.sort((function(e,t){return t.popularity-e.popularity})),E=function(e){var t=g.data.tracks[e];s.some((function(e){return 0===e.name.localeCompare(t.name)}))||s.push(t),i&&k.indexOf(t.artists[0].name)<0&&s.push(t)},x=0;x<p;x++)E(x);N=Object(b.a)(g.data.tracks).sort((function(e,t){return k.indexOf(e.artists[0].name)<0&&k.indexOf(t.artists[0].name)<0||k.indexOf(e.artists[0].name)>=0&&k.indexOf(t.artists[0].name)>=0?e.popularity>t.popularity?-1:1:k.indexOf(e.artists[0].name)>=0?1:-1})),T=s.map((function(e){return e.uri})),n.setState({tracks:s,select:l,tracklisturi:T,newartisttracks:N});case 28:case"end":return e.stop()}}),e)}))),n.updateSelectedTrack=function(e){n.setState({selectedTrack:e})},n.updateSearchSeed=function(e){n.setState({searchSeed:e})},n.updateHoveredObj=function(e,t){if(e){e.preventDefault();var a={sample_uri:e.currentTarget.dataset.sampleUri,img:e.currentTarget.children[0].children[1].currentSrc,trackName:e.currentTarget.children[0].children[2].children[0].textContent,artistName:e.currentTarget.children[0].children[2].children[1].textContent};n.setState({hovering:a,sample_uri:a.sample_uri,hoverIndex:t})}else n.setState({hovering:null,sample_uri:null,hoverIndex:null})},n.updateTimeRange=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,c,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state,r=a.type,c=a.limit,e.next=3,S.a.get("https://api.spotify.com/v1/me/top/".concat(r,"?time_range=").concat(t,"&limit=").concat(c,"&offset=0"),{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 3:i=e.sent,s=i.data.items,l={0:{data:s[0],type:"artist"},1:{data:s[1],type:"artist"},2:{data:s[2],type:"artist"},3:{data:s[3],type:"artist"},4:{data:s[4],type:"artist"}},n.setState({artists:s,time_range:t,preferences:l}),n.callForRecommend();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateHoverUri=function(e){n.setState({sample_uri:e})},n.updatePreference=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var r,c,i,s,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.state.changingPreferenceIndex){e.next=2;break}return e.abrupt("return");case 2:r=0;case 3:if(!(r<5)){e.next=9;break}if(t.name!==n.state.preferences[r].data.name){e.next=6;break}return e.abrupt("return");case 6:r++,e.next=3;break;case 9:return c=n.state.changingPreferenceIndex,(i=Object(k.a)({},n.state.preferences))[c]={data:t,type:a},e.next=14,S.a.get("https://api.spotify.com/v1/artists/".concat(t.id,"/related-artists"),{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}});case 14:s=e.sent,l=s.data.artists,u=Object(k.a)(Object(k.a)({},n.state.relatedArtists),{},Object(g.a)({},n.state.changingPreferenceIndex,l)),n.setState((function(e){return{preferences:i,relatedArtists:u,currentRelatedArtists:l}})),n.callForRecommend();case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.setupPreference=function(e){var t=n.state,a=t.changingPreferenceIndex,r=t.relatedArtists;if(e!==a){var c=r[e];n.setState({changingPreferenceIndex:e,currentRelatedArtists:c})}},n.playSpecificArtist=function(e,t){S.a.put("https://api.spotify.com/v1/me/player/play",{context_uri:e},{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}}),n.setState({currentPlaying:t})},n.playSpecificSong=function(e,t){S.a.put("https://api.spotify.com/v1/me/player/play",{uris:[e]},{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}}),n.setState({currentPlaying:t})},n.queueUpSongs=function(){S.a.put("https://api.spotify.com/v1/me/player/play",{uris:n.state.tracklisturi,offset:{position:0}},{headers:{Authorization:"Bearer "+n.props.token,"Content-Type":"application/json"}})},n.lockSpecificTrack=function(e){var t=Object(b.a)(n.state.select);t[e]=!t[e],n.setState({select:t})},n.updateMenu=function(){window.removeEventListener("wheel",(function(e){n.slide(e.wheelDelta)})),n.setState({openingMenu:!1})},n.updateSortByNew=function(){n.setState((function(e){return{sortByNew:!e.sortByNew}}))},n.state={type:"artists",time_range:"short_term",limit:5,select:new Array(50).fill(!1),artists:null,tracks:null,newartisttracks:null,recSeed:null,thumbnailOn:!0,selectedTrack:null,searchSeed:"",hovering:null,hoverIndex:null,changingPreferenceIndex:null,itemToSwap:null,clickToSelect:!1,openingMenu:!0,showThumb:!1,currentRelatedArtists:null,sortByNew:!1,tracklisturi:[],preferences:{0:null,1:null,2:null,3:null,4:null},relatedArtists:{0:null,1:null,2:null,3:null,4:null}},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.token,n=t.deviceId,c=t.changePlayerSettings,i=this.state,s=i.tracks,o=i.newartisttracks,l=i.hovering,u=i.preferences,p=i.sample_uri,m=i.changingPreferenceIndex,d=i.select,f=i.hoverIndex,h=(i.currentPlaying,i.sortByNew),y=i.tracklisturi,v=i.openingMenu,g=(i.showThumb,i.updateSortByNew,i.currentRelatedArtists),k=i.relatedArtists;return r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"darken",style:{background:v?"":"rgba(0, 0, 0, 0.8)",zIndex:v?-1:3},onClick:function(t){return e.setState({openingMenu:!0})}}),r.a.createElement(j,{preferences:u,changingPreferenceIndex:m,updateMenu:this.updateMenu,setupPreference:this.setupPreference,updatePreference:this.updatePreference,playSpecificArtist:this.playSpecificArtist,currentRelatedArtists:g,relatedArtists:k,token:a,openingMenu:v}),v?null:r.a.createElement(x,{select:d,sortByNew:h,token:a,changePlayerSettings:c,lockSpecificTrack:this.lockSpecificTrack,updateTimeRange:this.updateTimeRange,updateHoveredObj:this.updateHoveredObj,updateSelectedTrack:this.updateSelectedTrack,playSpecificSong:this.playSpecificSong,updatePreference:this.updatePreference,callForRecommend:this.callForRecommend,queueUpSongs:this.queueUpSongs,updateSortByNew:this.updateSortByNew,tracks:s,newartisttracks:o,deviceId:n,hovering:l,hoverIndex:f,sampleUri:p,tracklisturi:y}))}}]),a}(n.Component),A=(a(106),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).millisToMinutesAndSeconds=function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.changePlayerSettings,a=e.changeCurrentTrackTime,n=e.curTrack,c=e.playing;return n?r.a.createElement("div",{className:"cur-track-container"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"cur-track-img-container"},r.a.createElement("img",{className:"cur-track-img",src:n.track_window.current_track.album.images[0].url,alt:""})),r.a.createElement("div",{className:"cur-track-name"}," ",n.track_window.current_track.name," "),r.a.createElement("div",{className:"cur-artist-name"}," ",n.track_window.current_track.artists[0].name)),r.a.createElement("div",{className:"button-bar"},r.a.createElement("button",{className:"control-btn prev-track",onClick:function(){return t("prev")}},r.a.createElement("i",{class:"fa fa-step-backward","aria-hidden":"true"})),r.a.createElement("button",{className:"control-btn toggle-button",onClick:function(){return t("toggle")}},c?r.a.createElement("i",{className:"fa fa-pause fa-2x","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-play play-bar-play fa-lg","aria-hidden":"true"})),r.a.createElement("button",{className:"control-btn next-button",onClick:function(){return t("next")}},r.a.createElement("i",{class:"fa fa-step-forward fa-step-forward-icon","aria-hidden":"true"}))),r.a.createElement("div",{className:"song-slider"},r.a.createElement("span",{className:"song-start-time"}," ",this.millisToMinutesAndSeconds(n.position)," "),r.a.createElement("input",{onChange:function(e){return a(e)},type:"range",className:"slider",min:"0",max:"".concat(n.duration),value:"".concat(n.position/n.duration)}),r.a.createElement("span",{className:"song-end-time"}," ",this.millisToMinutesAndSeconds(n.duration)," "))):r.a.createElement("div",null)}}]),a}(n.Component)),P=(a(107),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-container"},r.a.createElement("div",{className:"logo-name"}," SPOTLUCK "))}}]),a}(n.Component)),_=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.hash,!(a=v.a.parse(t).access_token)){e.next=7;break}return e.next=5,n.props.validateLogin(!0,a);case 5:e.next=8;break;case 7:"?error=access_denied"===window.location.search&&n.setState({readyToRedirect:!0});case 8:case"end":return e.stop()}}),e)}))),n.state={readyToRedirect:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.token,a=e.deviceId,n=e.changePlayerSettings,c=e.curTrack,i=e.changeCurrentTrackTime,s=e.playing;return this.state.readyToRedirect?(this.setState({readyToRedirect:!1}),r.a.createElement(h.a,{to:"/"})):r.a.createElement("div",{className:"root-container"},r.a.createElement(P,null),r.a.createElement(C,{changePlayerSettings:n,deviceId:a,token:t}),r.a.createElement(A,{changeCurrentTrackTime:i,playing:s,curTrack:c,changePlayerSettings:n}))}}]),a}(n.Component),I=(a(112),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e="streaming user-read-email user-read-private user-top-read user-modify-playback-state";return r.a.createElement("div",{style:{fontSize:"45px"}},r.a.createElement("div",{className:"agreement-header"}," SPOTLUCK "),r.a.createElement("a",{href:"https://accounts.spotify.com/authorize"+"?client_id=".concat("10bb0e9003e748e684be1160d29f3562")+"&response_type=token&redirect_uri=https://danieljaeim.github.io/spotluck/landing/"+"&scope=".concat(encodeURIComponent(e))},"CLICK HERE"))}}]),a}(n.Component)),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).checkPlayerInterval=function(){null!=n.state.token&&(n.setState({loggedIn:!0}),n.playerCheckInterval=setInterval((function(){return n.checkForPlayer()}),1e3))},n.checkForPlayer=function(){var e=n.state.token;null!==window.Spotify&&(clearInterval(n.playerCheckInterval),n.player=new window.Spotify.Player({name:"Daniel Web Spotify Player",getOAuthToken:function(t){t(e)},volume:.3}),n.player.on("initialization_error",(function(e){console.error(e)})),n.player.on("authentication_error",(function(e){n.setState({loggedIn:!1})})),n.player.on("account_error",(function(e){console.error(e)})),n.player.on("playback_error",(function(e){console.error(e)})),n.player.on("player_state_changed",(function(e){n.setState({curTrack:e})})),n.player.on("ready",function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.device_id,console.log("Let the music play on!"),n.player.setVolume(.03),e.next=5,n.setState({deviceId:a,premium:!0});case 5:n.transferPlaybackHere();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.player.connect().then((function(e){e&&(n.transferPlaybackHere(),console.log("The Web Player successfully connected to Spotify!"))})))},n.changePlayerSettings=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="pause"===e.t0?3:"toggle"===e.t0?6:"next"===e.t0?9:"previous"===e.t0?11:13;break;case 3:return n.setState({playing:!1}),n.player.pause(),e.abrupt("break",13);case 6:return n.setState((function(e){return{playing:!e.playing}})),n.player.togglePlay(),e.abrupt("break",13);case 9:return n.player.nextTrack(),e.abrupt("break",13);case 11:return n.player.previousTrack(),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeCurrentTrackTime=function(e){e.preventDefault(),n.player.seek(e.target.value)},n.getPlayerState=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.player.getCurrentState);case 1:case"end":return e.stop()}}),e)}))),n.validateLogIn=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,n.setState({token:a});case 3:n.checkPlayerInterval();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={loggedIn:!1,token:null,deviceId:"",position:0,duration:0,playing:!0,premium:!0,redirect:!1,curTrack:null},n.playerCheckInterval=null,n}return Object(p.a)(a,[{key:"transferPlaybackHere",value:function(){var e=this.state,t=e.deviceId,a=e.token;fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:{authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({device_ids:[t],play:!0})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loggedIn,n=t.redirect,c=t.token,i=t.deviceId,s=t.curTrack,o=t.playing;return r.a.createElement(f.a,{basename:"/spotluck/"},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(I,e)}}),r.a.createElement(h.b,{exact:!0,path:"/landing",render:function(t){return r.a.createElement(_,Object.assign({},t,{changeCurrentTrackTime:e.changeCurrentTrackTime,curTrack:s,playing:o,changePlayerSettings:e.changePlayerSettings,deviceId:i,token:c,redirect:n,loggedIn:a,validateLogin:e.validateLogIn}))}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){},41:function(e,t,a){},48:function(e,t,a){e.exports=a(113)},53:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.060d4eb7.chunk.js.map